# Cookie Voice Assistant üç™

Cookie - —ç—Ç–æ –æ—Ñ—Ñ–ª–∞–π–Ω –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å –ø–µ—Ä—Å–æ–Ω–æ–π JARVIS, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ Rust –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ—Ñ–ª–∞–π–Ω**: –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gemini API)
- **Wake-word –¥–µ—Ç–µ–∫—Ü–∏—è**: –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ñ—Ä–∞–∑–∞–º "Cookie" –∏ "–ö—É–∫–∏"
- **–ü–µ—Ä—Å–æ–Ω–∞ JARVIS**: –§–æ—Ä–º–∞–ª—å–Ω—ã–π, —Å–ø–æ–∫–æ–π–Ω—ã–π, —É–≤–µ—Ä–µ–Ω–Ω—ã–π —Ç–æ–Ω –æ–±—â–µ–Ω–∏—è
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã**: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —á–µ—Ä–µ–∑ Vosk
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Rust** 1.70 –∏–ª–∏ –Ω–æ–≤–µ–µ
- **Windows** (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –û–° –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **–ú–∏–∫—Ä–æ—Ñ–æ–Ω** –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

Cookie –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **CPAL** - –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∞—É–¥–∏–æ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
- **RustPotter** - –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ wake-word
- **Vosk** - –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- **Rodio** - –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Cargo.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-repo/cookie-assistant.git
cd cookie-assistant/app
```

### 2. –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª–∏

#### –ú–æ–¥–µ–ª—å Vosk (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–°–∫–∞—á–∞–π—Ç–µ –Ω–µ–±–æ–ª—å—à—É—é —Ä—É—Å—Å–∫—É—é –º–æ–¥–µ–ª—å Vosk:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://alphacephei.com/vosk/models
2. –°–∫–∞—á–∞–π—Ç–µ `vosk-model-small-ru-0.22`
3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –ø–∞–ø–∫—É `app/vosk/model_small`

#### Wake-word –º–æ–¥–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `rustpotter/jarvis-default.rpw`. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É—è [RustPotter](https://github.com/GiviMAD/rustpotter).

### 3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
cargo build --release
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
cargo run --release
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤:
- **Windows**: `C:\Users\<User>\AppData\Roaming\cookie\assistant\config.json`
- **Linux**: `~/.config/cookie/assistant/config.json`
- **macOS**: `~/Library/Application Support/com.cookie.assistant/config.json`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª `config.json`:

```json
{
  "wake_word_threshold": 0.45,
  "wake_word_path": "rustpotter/cookie.rpw",
  "stt_backend": {
    "type": "Vosk",
    "model_path": "vosk/model_small"
  },
  "gemini_api_key": null,
  "jarvis_phrases": "assets/phrases/jarvis_style.json",
  "commands_path": "commands/commands.json",
  "listening_device": 0
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `wake_word_threshold` - –ø–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è wake-word (0.0-1.0). –ß–µ–º –Ω–∏–∂–µ - —Ç–µ–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–µ–µ
- `wake_word_path` - –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ wake-word
- `stt_backend` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ STT –¥–≤–∏–∂–∫–∞ (Vosk –∏–ª–∏ Gemini)
- `gemini_api_key` - API –∫–ª—é—á –¥–ª—è Gemini (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `jarvis_phrases` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å —Ñ—Ä–∞–∑–∞–º–∏ JARVIS
- `commands_path` - –ø—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∫–æ–º–∞–Ω–¥
- `listening_device` - –∏–Ω–¥–µ–∫—Å –∞—É–¥–∏–æ-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (0 = –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ)

## üéôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –°–∫–∞–∂–∏—Ç–µ wake-word: **"Cookie"** –∏–ª–∏ **"–ö—É–∫–∏"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
4. –ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ü—Ä–∏–≤–µ—Ç", "–ö–æ—Ç–æ—Ä—ã–π —á–∞—Å")
5. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥—É

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `commands/commands.json` –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É:

```json
{
  "id": "my_command",
  "name": "–ú–æ—è –∫–æ–º–∞–Ω–¥–∞",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",
  "icon": null,
  "keywords": ["–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ", "—Ñ—Ä–∞–∑–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏"],
  "action": {
    "type": "run_process",
    "command": "notepad.exe",
    "args": [],
    "working_dir": null
  }
}
```

### –¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π

#### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞

```json
{
  "type": "run_process",
  "command": "cmd",
  "args": ["/C", "echo Hello"],
  "working_dir": "C:\\temp"
}
```

#### 2. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ

```json
{
  "type": "play_audio",
  "file": "sounds/notification.wav"
}
```

#### 3. –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "type": "respond_text",
  "text": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Å—ç—Ä!"
}
```

## üîä –§—Ä–∞–∑—ã JARVIS

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ—Ä–∞–∑—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ —Ñ–∞–π–ª–µ `assets/phrases/jarvis_style.json`:

```json
{
  "ack": ["–î–∞, —Å—ç—Ä.", "–°–ª—É—à–∞—é, —Å—ç—Ä."],
  "processing": ["–†–∞–±–æ—Ç–∞—é –Ω–∞–¥ —ç—Ç–∏–º, —Å—ç—Ä."],
  "done": ["–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, —Å—ç—Ä."],
  "error": ["–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Å—ç—Ä."],
  "wake": ["–Ø –≤–∞—Å —Å–ª—É—à–∞—é, —Å—ç—Ä."]
}
```

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Gemini API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–Ω–ª–∞–π–Ω —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Gemini:

1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ https://makersuite.google.com/app/apikey
2. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```json
{
  "stt_backend": {
    "type": "Gemini"
  },
  "gemini_api_key": "YOUR_API_KEY_HERE"
}
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.rs              # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ config.rs            # –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ jarvis.rs            # JARVIS –ø–µ—Ä—Å–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ commands.rs          # –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ audio_pipeline.rs    # CPAL –∞—É–¥–∏–æ-–ø–∞–π–ø–ª–∞–π–Ω
‚îÇ   ‚îú‚îÄ‚îÄ wakeword/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rustpotter.rs    # RustPotter –¥–µ—Ç–µ–∫—Ç–æ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ stt/
‚îÇ       ‚îú‚îÄ‚îÄ mod.rs
‚îÇ       ‚îú‚îÄ‚îÄ vosk.rs          # Vosk STT
‚îÇ       ‚îî‚îÄ‚îÄ gemini_audio.rs  # Gemini STT
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ phrases/
‚îÇ       ‚îî‚îÄ‚îÄ jarvis_style.json
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îî‚îÄ‚îÄ commands.json
‚îú‚îÄ‚îÄ rustpotter/              # Wake-word –º–æ–¥–µ–ª–∏
‚îî‚îÄ‚îÄ vosk/                    # Vosk –º–æ–¥–µ–ª–∏
```

### –°–±–æ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
cargo check

# –°–±–æ—Ä–∫–∞ –≤ debug —Ä–µ–∂–∏–º–µ
cargo build

# –°–±–æ—Ä–∫–∞ –≤ release —Ä–µ–∂–∏–º–µ
cargo build --release

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
cargo test

# –û—á–∏—Å—Ç–∫–∞
cargo clean
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# Windows
set RUST_LOG=debug
cargo run

# Linux/macOS
RUST_LOG=debug cargo run
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

GPL-3.0-only

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests! –î–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –û–° –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- Vosk —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∫–∞—á–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å
- TTS (—Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏) –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª—å

## üó∫Ô∏è –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å TTS —á–µ—Ä–µ–∑ Piper –∏–ª–∏ Coqui
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Linux –∏ macOS
- [ ] –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ Tauri
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–∞–Ω–¥ (800+)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AutoHotkey —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- [ ] –î–µ—Ç–µ–∫—Ü–∏—è —Ç–∏—à–∏–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Cookie –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö.
